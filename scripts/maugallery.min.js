!function(a){a.fn.mauGallery=function(t){var e=a.extend({},a.fn.mauGallery.defaults,t);return this.each((function(){var t=a(this),l=[];a.fn.mauGallery.methods.createRowWrapper(t),e.lightBox&&a.fn.mauGallery.methods.createLightBox(t,e.lightboxId,e.navigation),t.children(".gallery-item").each((function(){a.fn.mauGallery.methods.responsiveImageItem(a(this)),a.fn.mauGallery.methods.moveItemInRowWrapper(a(this),t),a.fn.mauGallery.methods.wrapItemInColumn(a(this),e.columns);var i=a(this).data("gallery-tag");e.showTags&&i&&-1===l.indexOf(i)&&l.push(i)})),e.showTags&&a.fn.mauGallery.methods.showItemTags(t,e.tagsPosition,l),a.fn.mauGallery.listeners(t,e),t.fadeIn(500)}))},a.fn.mauGallery.defaults={columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0},a.fn.mauGallery.listeners=function(t,e){t.on("click",".gallery-item",(function(){e.lightBox&&"IMG"===a(this).prop("tagName")&&a.fn.mauGallery.methods.openLightBox(a(this),e.lightboxId||"galleryLightbox")})),t.on("click",".nav-link",(function(){a.fn.mauGallery.methods.filterByTag.call(this,t)})),t.on("click",".mg-prev",(()=>a.fn.mauGallery.methods.prevImage(t,e.lightboxId||"galleryLightbox"))),t.on("click",".mg-next",(()=>a.fn.mauGallery.methods.nextImage(t,e.lightboxId||"galleryLightbox")))},a.fn.mauGallery.methods={createRowWrapper(a){a.children(".gallery-items-row").length||a.append('<div class="gallery-items-row row"></div>')},wrapItemInColumn(a,t){if("number"==typeof t)a.wrap(`<div class='item-column mb-4 col-${Math.ceil(12/t)}'></div>`);else if("object"==typeof t){var e="";t.xs&&(e+=` col-${Math.ceil(12/t.xs)}`),t.sm&&(e+=` col-sm-${Math.ceil(12/t.sm)}`),t.md&&(e+=` col-md-${Math.ceil(12/t.md)}`),t.lg&&(e+=` col-lg-${Math.ceil(12/t.lg)}`),t.xl&&(e+=` col-xl-${Math.ceil(12/t.xl)}`),a.wrap(`<div class='item-column mb-4${e}'></div>`)}else console.error(`Columns should be a number or object. ${typeof t} is not supported.`)},moveItemInRowWrapper(a,t){a.appendTo(t.find(".gallery-items-row"))},responsiveImageItem(a){"IMG"===a.prop("tagName")&&a.addClass("img-fluid")},openLightBox(t,e){a(`#${e}`).find(".lightboxImage").attr("src",t.attr("src")),a(`#${e}`).modal("toggle")},prevImage(t,e){let l=t.find("img.gallery-item").filter((function(){return a(this).attr("src")===a(".lightboxImage").attr("src")})),i=t.find(".tags-bar span.active-tag").data("images-toggle"),n=[];t.find(".item-column img").each((function(){"all"!==i&&a(this).data("gallery-tag")!==i||n.push(a(this))}));let s=n.findIndex((a=>a.attr("src")===l.attr("src"))),o=n[s-1]||n[n.length-1];a(".lightboxImage").attr("src",o.attr("src"))},nextImage(t,e){let l=t.find("img.gallery-item").filter((function(){return a(this).attr("src")===a(".lightboxImage").attr("src")})),i=t.find(".tags-bar span.active-tag").data("images-toggle"),n=[];t.find(".item-column img").each((function(){"all"!==i&&a(this).data("gallery-tag")!==i||n.push(a(this))}));let s=n.findIndex((a=>a.attr("src")===l.attr("src"))),o=n[s+1]||n[0];a(".lightboxImage").attr("src",o.attr("src"))},createLightBox(a,t,e){a.append(`\n        <div class="modal fade" id="${t||"galleryLightbox"}" tabindex="-1" role="dialog" aria-hidden="true">\n          <div class="modal-dialog" role="document">\n            <div class="modal-content">\n              <div class="modal-body position-relative">\n                ${e?'<button class="mg-prev btn btn-light position-absolute" style="top:50%;left:0;" aria-label="Précédent">&lt;</button>':""}\n                <img class="lightboxImage img-fluid" alt="Image en plein écran" />\n                ${e?'<button class="mg-next btn btn-light position-absolute" style="top:50%;right:0;" aria-label="Suivant">&gt;</button>':""}\n              </div>\n            </div>\n          </div>\n        </div>`)},showItemTags(t,e,l){var i='<li class="nav-item"><span class="nav-link active active-tag" data-images-toggle="all">Tous</span></li>';a.each(l,(function(a,t){i+=`<li class="nav-item"><span class="nav-link" data-images-toggle="${t}">${t}</span></li>`}));var n=`<ul class="my-4 tags-bar nav nav-pills">${i}</ul>`;"bottom"===e?t.append(n):"top"===e?t.prepend(n):console.error(`Unknown tags position: ${e}`)},filterByTag(t){if(!a(this).hasClass("active-tag")){t.find(".active-tag").removeClass("active active-tag"),a(this).addClass("active active-tag");var e=a(this).data("images-toggle");t.find(".gallery-item").each((function(){var t=a(this).parents(".item-column");"all"===e||a(this).data("gallery-tag")===e?t.show(300):t.hide()}))}}}}(jQuery),function(a){a.fn.mauGallery=function(t){var e=a.extend({},a.fn.mauGallery.defaults,t);return this.each((function(){var t=a(this),l=[];a.fn.mauGallery.methods.createRowWrapper(t),e.lightBox&&a.fn.mauGallery.methods.createLightBox(t,e.lightboxId,e.navigation),t.children(".gallery-item").each((function(){a.fn.mauGallery.methods.responsiveImageItem(a(this)),a.fn.mauGallery.methods.moveItemInRowWrapper(a(this),t),a.fn.mauGallery.methods.wrapItemInColumn(a(this),e.columns);var i=a(this).data("gallery-tag");e.showTags&&i&&-1===l.indexOf(i)&&l.push(i)})),e.showTags&&a.fn.mauGallery.methods.showItemTags(t,e.tagsPosition,l),a.fn.mauGallery.listeners(t,e),t.fadeIn(500)}))},a.fn.mauGallery.defaults={columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0},a.fn.mauGallery.listeners=function(t,e){t.on("click",".gallery-item",(function(){e.lightBox&&"IMG"===a(this).prop("tagName")&&a.fn.mauGallery.methods.openLightBox(a(this),e.lightboxId||"galleryLightbox")})),t.on("click",".nav-link",(function(){a.fn.mauGallery.methods.filterByTag.call(this,t)})),t.on("click",".mg-prev",(()=>a.fn.mauGallery.methods.prevImage(t,e.lightboxId||"galleryLightbox"))),t.on("click",".mg-next",(()=>a.fn.mauGallery.methods.nextImage(t,e.lightboxId||"galleryLightbox")))},a.fn.mauGallery.methods={createRowWrapper(a){a.children(".gallery-items-row").length||a.append('<div class="gallery-items-row row"></div>')},wrapItemInColumn(a,t){if("number"==typeof t)a.wrap(`<div class='item-column mb-4 col-${Math.ceil(12/t)}'></div>`);else if("object"==typeof t){var e="";t.xs&&(e+=` col-${Math.ceil(12/t.xs)}`),t.sm&&(e+=` col-sm-${Math.ceil(12/t.sm)}`),t.md&&(e+=` col-md-${Math.ceil(12/t.md)}`),t.lg&&(e+=` col-lg-${Math.ceil(12/t.lg)}`),t.xl&&(e+=` col-xl-${Math.ceil(12/t.xl)}`),a.wrap(`<div class='item-column mb-4${e}'></div>`)}else console.error(`Columns should be a number or object. ${typeof t} is not supported.`)},moveItemInRowWrapper(a,t){a.appendTo(t.find(".gallery-items-row"))},responsiveImageItem(a){"IMG"===a.prop("tagName")&&a.addClass("img-fluid")},openLightBox(t,e){a(`#${e}`).find(".lightboxImage").attr("src",t.attr("src")),a(`#${e}`).modal("toggle")},prevImage(t,e){let l=t.find("img.gallery-item").filter((function(){return a(this).attr("src")===a(".lightboxImage").attr("src")})),i=t.find(".tags-bar span.active-tag").data("images-toggle"),n=[];t.find(".item-column img").each((function(){"all"!==i&&a(this).data("gallery-tag")!==i||n.push(a(this))}));let s=n.findIndex((a=>a.attr("src")===l.attr("src"))),o=n[s-1]||n[n.length-1];a(".lightboxImage").attr("src",o.attr("src"))},nextImage(t,e){let l=t.find("img.gallery-item").filter((function(){return a(this).attr("src")===a(".lightboxImage").attr("src")})),i=t.find(".tags-bar span.active-tag").data("images-toggle"),n=[];t.find(".item-column img").each((function(){"all"!==i&&a(this).data("gallery-tag")!==i||n.push(a(this))}));let s=n.findIndex((a=>a.attr("src")===l.attr("src"))),o=n[s+1]||n[0];a(".lightboxImage").attr("src",o.attr("src"))},createLightBox(a,t,e){a.append(`\n        <div class="modal fade" id="${t||"galleryLightbox"}" tabindex="-1" role="dialog" aria-hidden="true">\n          <div class="modal-dialog" role="document">\n            <div class="modal-content">\n              <div class="modal-body position-relative">\n                ${e?'<button class="mg-prev btn btn-light position-absolute" style="top:50%;left:0;" aria-label="Précédent">&lt;</button>':""}\n                <img class="lightboxImage img-fluid" alt="Image en plein écran" />\n                ${e?'<button class="mg-next btn btn-light position-absolute" style="top:50%;right:0;" aria-label="Suivant">&gt;</button>':""}\n              </div>\n            </div>\n          </div>\n        </div>`)},showItemTags(t,e,l){var i='<li class="nav-item"><span class="nav-link active active-tag" data-images-toggle="all">Tous</span></li>';a.each(l,(function(a,t){i+=`<li class="nav-item"><span class="nav-link" data-images-toggle="${t}">${t}</span></li>`}));var n=`<ul class="my-4 tags-bar nav nav-pills">${i}</ul>`;"bottom"===e?t.append(n):"top"===e?t.prepend(n):console.error(`Unknown tags position: ${e}`)},filterByTag(t){if(!a(this).hasClass("active-tag")){t.find(".active-tag").removeClass("active active-tag"),a(this).addClass("active active-tag");var e=a(this).data("images-toggle");t.find(".gallery-item").each((function(){var t=a(this).parents(".item-column");"all"===e||a(this).data("gallery-tag")===e?t.show(300):t.hide()}))}}}}(jQuery);